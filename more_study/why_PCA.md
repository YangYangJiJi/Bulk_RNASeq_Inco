# PCA 분석이유, 활용방법, 결과해석

## PCA는 주성분 분석이다.
- 주성분(Principal Component, PC) : 데이터의 변동성을 가장 잘 설명할 수 있는 새로운 축을 의미합니다. 고차원 데이터에서 주요 패턴을 찾기 위해 데이터의 분산(variability)을 최대한 보존하면서 데이터를 저차원 공간으로 투영한 결과물입니다. 
- 주성분은 데이터의 변동성(variance)을 최대화하는 새로운 좌표축(축 또는 방향)으로 정의됩니다.
- 데이터가 고차원(변수가 많음)일 때, 주요 패턴을 파악하기 어렵습니다. 이 때 PCA를 통해 해결할 수 있습니다.

## PCA를 수행하는 이유
PCA의 목적은 **고차원 데이터의 주요 패턴을 찾고 데이터의 변동성을 시각화**하여 다음과 같은 분석을 가능하게 합니다:

- **차원 축소:** 데이터의 복잡성을 줄여 분석을 간단히 만듦.
- **주요 요인 식별:** 데이터의 변동성에 가장 큰 영향을 미치는 요인을 추출.
- **샘플 간 관계 파악:** 데이터 간의 유사성과 차이를 효과적으로 나타냄. 예를 들어, 샘플 간 군집을 확인하거나 아웃라이어를 탐지할 수 있음.
- **시각화:** 고차원 데이터를 2D 또는 3D 그래프로 시각화하여 데이터를 직관적으로 이해.
---

### **PC1과 PC2의 설명력**

- **설명력(Explained Variance):**
    - 주성분(PC)은 데이터의 변동성을 최대한 보존하는 방향으로 생성된 축입니다.
    - PC1은 데이터의 **가장 큰 변동성(분산)**을 설명하며, PC2는 PC1에 직교(orthogonal)하는 방향에서 두 번째로 큰 변동성을 설명합니다.
    - 예를 들어, 코드에서 PC1은 데이터의 61.74%의 변동성을 설명하며, PC2는 그보다 적은 변동성을 설명합니다.
- **PC1과 PC2의 차이:**
    - PC1은 데이터의 가장 중요한 변동 패턴을 나타내는 축이며, PC2는 그 다음으로 중요한 변동 패턴을 나타냅니다.
    - 두 PC는 서로 직교하므로 서로 독립적인 정보를 담고 있습니다.
    - PC1이 셀 타입의 구분(예: CD4 vs. CD8)을 주로 설명했다면, PC2는 넉아웃(knockout)과 같은 다른 요인을 설명할 수 있습니다.

---

### **PC3, PC4로 갈수록 설명력이 약해지는 이유**
- PCA에서 생성되는 주성분들은 데이터의 분산을 설명하는 순서로 정렬됩니다.
- PC1은 가장 큰 분산을 설명하며, 이후의 주성분(PC2, PC3, ...)은 점점 더 작은 분산을 설명합니다.
- 고차원 데이터에서 대부분의 중요한 변동성은 **초기 몇 개의 주성분**에 의해 설명되며, 나머지 주성분들은 비교적 사소한 정보를 포함합니다.
    - 코드에서도 PC1이 약 61.74%를 설명하며, PC2는 상대적으로 적은 비율을 설명.
    - PC3, PC4로 갈수록 설명력은 점점 낮아집니다.
    - 보통 누적 설명력이 80~90% 이상이면 초기 몇 개의 PC만 사용하고, 나머지는 무시하는 경우가 많습니다.

### PCA에서의 **양수와 음수**의 의미
- PCA plot에서 x축과 y축이 각각 **PC1**과 **PC2**를 나타내며, 각 축을 따라 음수와 양수의 값은 **주성분 분석**의 결과로 나온 **샘플들의 분포**를 나타냅니다. 
- 여기서 중요한 점은 **음수/양수 자체보다는 샘플들이 어떻게 군집화되는지**, 즉 **어떤 특성에 따라 클러스터링되는지**입니다. 
- PCA는 데이터의 **주요 변동성을 잘 설명할 수 있도록 축소된 저차원 공간에서** 샘플들을 시각화하는 방법이기 때문에, 음수/양수 값은 상대적인 위치를 나타내며, 그 자체로 절대적인 의미를 부여하는 것은 아닙니다.

---

## **PCA를 통해 알 수 있는 것**
1. **샘플 간의 주요 차이점:**
    - PCA plot에서 샘플들이 PC1과 PC2 축에 따라 분포하는 방식으로 군집, 차이, 경향성을 시각적으로 확인 가능.
    - 예: CD4와 CD8이 PC1에서 명확히 구분되었고, 넉아웃(knockout) 여부가 PC2에서 차이를 보였음.
2. **데이터 변동에 가장 큰 영향을 미치는 요인:**
    - PC1, PC2의 회전값(rotation)을 통해 어떤 유전자나 변수가 특정 주성분에 더 큰 기여를 하는지 파악 가능.
3. **데이터 압축:**
    - 원래 고차원 데이터를 주요 주성분만으로 축소하여 중요한 정보를 보존하면서 분석 효율을 높임.
    - 예: 1만 개의 유전자 데이터를 2개의 주성분으로 요약.

